sudo systemctl stop docker docker.socket containerd 2>/dev/null;
sudo pkill -9 -f docker 2>/dev/null;
sudo pkill -9 -f containerd 2>/dev/null;
sudo umount /var/lib/docker/overlay2/*/merged 2>/dev/null || true;
sudo yum remove -y docker* containerd* runc 2>/dev/null || sudo apt-get purge -y docker* containerd* runc 2>/dev/null;
sudo rm -rf /var/lib/docker /var/lib/containerd /etc/docker /var/run/docker.sock /var/run/containerd /etc/apparmor.d/docker /usr/bin/docker* /usr/libexec/docker /usr/lib/docker* /usr/share/docker* /opt/docker* ~/.docker;
sudo find / -name "*docker*" -type f -delete 2>/dev/null || true;
sudo find / -name "*containerd*" -type f -delete 2>/dev/null || true;
sudo groupdel docker 2>/dev/null;
sudo yum autoremove -y 2>/dev/null || sudo apt-get autoremove -y 2>/dev/null;
sudo yum clean all 2>/dev/null || sudo apt-get clean 2>/dev/null;
which docker >/dev/null 2>&1 && echo "❌ 仍有残留" || echo "✅ Docker已从系统中彻底清除"
