#!/bin/bash
echo "ğŸŒ ç½‘ç»œé€Ÿåº¦æµ‹è¯•"
echo "æ­£åœ¨å¯åŠ¨..."

# ç›´æ¥è¿è¡Œæµ‹é€Ÿï¼Œä¸ä¸‹è½½æ–‡ä»¶
result=$(curl -s https://raw.githubusercontent.com/sivel/speedtest-cli/master/speedtest.py | python3 - --simple 2>/dev/null)

if [ $? -ne 0 ] || [ -z "$result" ]; then
    echo "âŒ æµ‹é€Ÿå¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥"
    exit 1
fi

# å¿«é€Ÿè§£æç»“æœ
echo "âœ… æµ‹è¯•å®Œæˆï¼š"
echo "$result" | awk '
/Ping:/ {printf "ğŸ”„ å»¶è¿Ÿ: %s %s\n", $2, $3}
/Download:/ {printf "â¬‡ï¸ ä¸‹è½½: %s %s\n", $2, $3}  
/Upload:/ {printf "â¬†ï¸ ä¸Šä¼ : %s %s\n", $2, $3}
'
